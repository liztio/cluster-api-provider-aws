---
apiVersion: "cluster.k8s.io/v1alpha1"
kind: Cluster
metadata:
  namespace: equestria
  name: ponyville
spec:
  clusterNetwork:
    services:
      cidrBlocks: ["10.96.0.0/12"]
    pods:
      cidrBlocks: ["192.168.0.0/16"]
    serviceDomain: "cluster.local"
  infrastructureRef:
    apiVersion: "awsprovider.k8s.io/v1alpha1"
    kind: "AWSCluster"
    namespace: "equestria"
    name: ponyville
---
apiVersion: "awsprovider.k8s.io/v1alpha1"
kind: "AWSCluster"
metadata:
  namespace: equestria
  name: ponyville
spec:
  region: "us-east-1"
  sshKeyName: "default"
---
apiVersion: "cluster.k8s.io/v1alpha1"
kind: Machine
metadata:
  namespace: equestria
  name: ponyville-controlplane-0
  labels:
    cluster.k8s.io/cluster-name: ponyville
    set: controlplane
spec:
  version: v1.14.4
  infrastructureRef:
    apiVersion:  "awsprovider.k8s.io/v1alpha1"
    kind: "AWSMachine"
    namespace: equestria
    name: ponyville-controlplane-0
---
apiVersion: "cluster.k8s.io/v1alpha1"
kind: Machine
metadata:
  namespace: equestria
  name: ponyville-node-1
  labels:
    cluster.k8s.io/cluster-name: ponyville
    set: node
spec:
  version: v1.14.4
  infrastructureRef:
    apiVersion:  "awsprovider.k8s.io/v1alpha1"
    kind: "AWSMachine"
    namespace: equestria
    name: ponyville-node-1
---
apiVersion:  "awsprovider.k8s.io/v1alpha1"
kind: "AWSMachine"
metadata:
  namespace: equestria
  name: ponyville-controlplane-0
spec:
  instanceType: "t2.medium"
  iamInstanceProfile: "control-plane.cluster-api-provider-aws.sigs.k8s.io"
  keyName: "default"
---
apiVersion:  "awsprovider.k8s.io/v1alpha1"
kind: "AWSMachine"
metadata:
  namespace: equestria
  name: ponyville-node-1
spec:
  instanceType: "t2.medium"
  iamInstanceProfile: "control-plane.cluster-api-provider-aws.sigs.k8s.io"
  keyName: "default"
---
